"use client";
import React, { useEffect, useRef, useState } from "react";
import GalleryGrid from "@/components/GalleryGrid";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";

import { useGSAP } from "@gsap/react";
import Menu from "@/components/Menu";
import GridMenu from "@/components/GridMenu";
import GrabMenu from "@/components/GrabMenu";

gsap.registerPlugin(ScrollTrigger);

const ListPage = () => {
  const [showGrid, setShowGrid] = useState("grid");
  const [showGallery, setShowGallery] = useState(false);
  const containerRef = useRef<HTMLDivElement>(null);
  useGSAP(() => {
    gsap.from("#main-menu", {
      y: 200,
    });
  }, []);

  useGSAP(() => {
    gsap.from("#grid", {
      y: "100%",
      ease: "power1.inOut",
      duration: 2,
    });
  }, [showGallery]);
  useGSAP(() => {
    setTimeout(() => {
      setShowGallery(true);
    }, 500);
    gsap.from("#bg-svg", {
      rotate: "-30",
    });

    gsap.from(containerRef.current, { top: "50%", duration: 1 });
  }, [showGrid]);

  useEffect(() => {
    console.log(showGrid);
  }, [showGrid]);
  return (
    <div
      id="list-page"
      className="  bg-[#253143] relative    justify-center  overflow-hidden   !w-[100wh]  !h-[100vh]"
    >
      {showGallery && (
        <GalleryGrid id="grid" showGrid={showGrid === "grid" ? true : false} />
      )}
      <Menu id="main-menu" />
      {showGrid === "grid" ? (
        <div className="absolute md:bottom-[20%] bottom-[25%]    h-auto flex mx-auto !w-[100%] ">
          <GrabMenu />
        </div>
      ) : null}
      <div className="absolute md:bottom-[10%]  bottom-[15%]   h-auto flex mx-auto !w-[100%] ">
        <GridMenu setShowGrid={setShowGrid} />
      </div>

      <svg
        id="bg-svg"
        className="absolute  scale-100 top-0 right-0"
        width="100%"
        height="90%"
        viewBox="0 0 1728 1085"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clipPath="url(#clip0_400_3504)">
          <mask
            id="mask0_400_3504"
            // style="mask-type:alpha"
            maskUnits="userSpaceOnUse"
            x="-483"
            y="-1164"
            width="1357"
            height="1908"
          >
            <path
              d="M42.605 732.955L126.554 629.898C131.585 623.71 133.969 615.796 133.163 607.86C132.358 599.924 128.492 592.602 122.323 587.502C-178.401 330.646 -334.89 -67.0648 -275.619 -469.086C-273.402 -485.409 -283.759 -501.002 -300.494 -503.974L-432.015 -527.523C-448.725 -530.473 -465.256 -519.282 -467.648 -502.444C-538.628 -31.9362 -354.44 436.213 -1.00951 736.752C11.9339 747.905 31.4283 745.877 42.7599 732.464L42.5834 732.979L42.605 732.955Z"
              fill="#EFEBE5"
            />
            <path
              d="M79.0145 -1027.61C66.1535 -1039.32 46.2266 -1038.02 35.1996 -1025.68C-60.7588 -915.341 -135.889 -784.881 -182.746 -637.233C-297.766 -274.796 -215.044 104.036 4.81485 384.426C15.3847 397.758 35.3792 399.991 48.3807 388.866L151.219 305.333C164.046 294.746 166.228 276.659 156.22 263.524C-23.6242 32.2116 -91.0852 -279.037 3.81212 -578.05C42.0432 -698.497 103.115 -805.247 180.9 -895.559C191.388 -908.096 190.195 -926.653 178.234 -937.472L79.5738 -1027.46L79.0359 -1027.63L79.0145 -1027.61Z"
              fill="#EFEBE5"
            />
            <path
              d="M209.027 -91.8781C224.618 -96.3401 233.94 -112.755 229.973 -128.123C198.192 -247.458 199.149 -376.954 239.126 -502.892C326.171 -777.18 573.02 -956.115 845.24 -971.324C861.415 -972.058 873.457 -985.878 873.755 -1001.65L872.377 -1133.06C872.081 -1150.77 857.468 -1164.21 839.528 -1163.47C487.477 -1145.98 167.295 -914.54 55.1824 -561.287C3.36216 -398.004 3.19464 -230.064 44.9751 -75.2515C49.6891 -58.4824 66.5599 -48.43 83.5539 -53.6159L209.41 -91.2122L209.049 -91.9024L209.027 -91.8781Z"
              fill="#EFEBE5"
            />
          </mask>
          <g mask="url(#mask0_400_3504)">
            <g opacity="0.02">
              <path
                d="M42.605 732.955L126.554 629.898C131.585 623.71 133.969 615.796 133.163 607.86C132.358 599.924 128.492 592.602 122.323 587.502C-178.401 330.646 -334.89 -67.0648 -275.619 -469.086C-273.402 -485.409 -283.759 -501.002 -300.494 -503.974L-432.015 -527.523C-448.725 -530.473 -465.256 -519.282 -467.648 -502.444C-538.628 -31.9362 -354.44 436.213 -1.00951 736.752C11.9339 747.905 31.4283 745.877 42.7599 732.464L42.5834 732.979L42.605 732.955Z"
                fill="#EFEBE5"
              />
              <path
                d="M79.0145 -1027.61C66.1535 -1039.32 46.2266 -1038.02 35.1996 -1025.68C-60.7588 -915.341 -135.889 -784.881 -182.746 -637.233C-297.766 -274.796 -215.044 104.036 4.81485 384.426C15.3847 397.758 35.3792 399.991 48.3807 388.866L151.219 305.333C164.046 294.746 166.228 276.659 156.22 263.524C-23.6242 32.2116 -91.0852 -279.037 3.81212 -578.05C42.0432 -698.497 103.115 -805.247 180.9 -895.559C191.388 -908.096 190.195 -926.653 178.234 -937.472L79.5738 -1027.46L79.0359 -1027.63L79.0145 -1027.61Z"
                fill="#EFEBE5"
              />
              <path
                d="M209.027 -91.8781C224.618 -96.3401 233.94 -112.755 229.973 -128.123C198.192 -247.458 199.149 -376.954 239.126 -502.892C326.171 -777.18 573.02 -956.115 845.24 -971.324C861.415 -972.058 873.457 -985.878 873.755 -1001.65L872.377 -1133.06C872.081 -1150.77 857.468 -1164.21 839.528 -1163.47C487.477 -1145.98 167.295 -914.54 55.1824 -561.287C3.36216 -398.004 3.19464 -230.064 44.9751 -75.2515C49.6891 -58.4824 66.5599 -48.43 83.5539 -53.6159L209.41 -91.2122L209.049 -91.9024L209.027 -91.8781Z"
                fill="#EFEBE5"
              />
            </g>
          </g>
          <mask
            id="mask1_400_3504"
            // style="mask-type:alpha"
            maskUnits="userSpaceOnUse"
            x="360"
            y="-1660"
            width="1579"
            height="1723"
          >
            <path
              d="M362.984 -1523.62L414.275 -1400.92C420.544 -1385.42 438.422 -1378.56 453.802 -1384.28C695.628 -1479.19 970.133 -1494.95 1236.94 -1410.29C1383.21 -1363.88 1513.67 -1291.89 1624.91 -1200.16C1638.06 -1189.53 1656.69 -1190.66 1667.86 -1203.58L1754.64 -1304.19C1765.81 -1317.11 1764.43 -1336.94 1751.31 -1347.57C1620.46 -1455.55 1467.03 -1540.68 1295.59 -1595.1C983.251 -1694.22 661.684 -1675.18 379.079 -1563.21C363.523 -1556.96 356.002 -1538.77 362.271 -1523.26L362.983 -1523.64L362.984 -1523.62Z"
              fill="#EFEBE5"
            />
            <path
              d="M1220.18 -1359.77C1075.42 -1405.72 928.488 -1420.59 786.446 -1408.09C769.408 -1406.43 757.55 -1391.41 759.228 -1374.39L773.911 -1242.18C775.763 -1225.73 790.88 -1213.88 807.253 -1215.15C923.571 -1224.67 1043.43 -1211.89 1161.38 -1174.45C1447.12 -1083.76 1657.64 -867.673 1752.06 -607.332C1757.64 -591.439 1774.49 -583.175 1790.75 -587.974L1917.08 -628.992C1933.53 -634.353 1941.98 -651.658 1936.55 -668.087C1822.58 -985.762 1567.01 -1249.65 1220.69 -1359.57L1220.15 -1359.75L1220.18 -1359.77Z"
              fill="#EFEBE5"
            />
            <path
              d="M1147.08 -1123.71C1131.54 -1128.65 1115.46 -1133.75 1099.42 -1137.08C1082.47 -1141.28 1065.56 -1130.8 1061.4 -1113.93L1033.06 -985.548C1029.77 -969.575 1039.44 -953.576 1055.3 -949.727C1066.21 -946.874 1077.08 -943.997 1088.35 -940.409C1444.74 -827.309 1642.35 -448.184 1529.77 -93.5045C1523.33 -73.2427 1516 -53.8461 1508.3 -35.1626C1501.78 -20.195 1508.64 -2.77096 1523.51 4.30147L1643.47 59.3974C1659.4 66.7973 1677.77 59.1462 1684.44 43.6422C1695.42 18.3677 1705.48 -7.79351 1714.11 -34.9951C1858.5 -489.953 1604.21 -978.638 1146.57 -1123.88L1147.1 -1123.71L1147.08 -1123.71Z"
              fill="#EFEBE5"
            />
          </mask>
          <g mask="url(#mask1_400_3504)">
            <g opacity="0.02">
              <path
                d="M362.984 -1523.62L414.275 -1400.92C420.544 -1385.42 438.422 -1378.56 453.802 -1384.28C695.628 -1479.19 970.133 -1494.95 1236.94 -1410.29C1383.21 -1363.88 1513.67 -1291.89 1624.91 -1200.16C1638.06 -1189.53 1656.69 -1190.66 1667.86 -1203.58L1754.64 -1304.19C1765.81 -1317.11 1764.43 -1336.94 1751.31 -1347.57C1620.46 -1455.55 1467.03 -1540.68 1295.59 -1595.1C983.251 -1694.22 661.684 -1675.18 379.079 -1563.21C363.523 -1556.96 356.002 -1538.77 362.271 -1523.26L362.983 -1523.64L362.984 -1523.62Z"
                fill="#EFEBE5"
              />
              <path
                d="M1220.18 -1359.77C1075.42 -1405.72 928.488 -1420.59 786.446 -1408.09C769.408 -1406.43 757.55 -1391.41 759.228 -1374.39L773.911 -1242.18C775.763 -1225.73 790.88 -1213.88 807.253 -1215.15C923.571 -1224.67 1043.43 -1211.89 1161.38 -1174.45C1447.12 -1083.76 1657.64 -867.673 1752.06 -607.332C1757.64 -591.439 1774.49 -583.175 1790.75 -587.974L1917.08 -628.992C1933.53 -634.353 1941.98 -651.658 1936.55 -668.087C1822.58 -985.762 1567.01 -1249.65 1220.69 -1359.57L1220.15 -1359.75L1220.18 -1359.77Z"
                fill="#EFEBE5"
              />
              <path
                d="M1147.08 -1123.71C1131.54 -1128.65 1115.46 -1133.75 1099.42 -1137.08C1082.47 -1141.28 1065.56 -1130.8 1061.4 -1113.93L1033.06 -985.548C1029.77 -969.575 1039.44 -953.576 1055.3 -949.727C1066.21 -946.874 1077.08 -943.997 1088.35 -940.409C1444.74 -827.309 1642.35 -448.184 1529.77 -93.5045C1523.33 -73.2427 1516 -53.8461 1508.3 -35.1626C1501.78 -20.195 1508.64 -2.77096 1523.51 4.30147L1643.47 59.3974C1659.4 66.7973 1677.77 59.1462 1684.44 43.6422C1695.42 18.3677 1705.48 -7.79351 1714.11 -34.9951C1858.5 -489.953 1604.21 -978.638 1146.57 -1123.88L1147.1 -1123.71L1147.08 -1123.71Z"
                fill="#EFEBE5"
              />
            </g>
          </g>
          <mask
            id="mask2_400_3504"
            // style="mask-type:alpha"
            maskUnits="userSpaceOnUse"
            x="146"
            y="-105"
            width="2084"
            height="1089"
          >
            <path
              d="M1886.08 120.024L1762.42 69.6388C1746.7 63.4653 1729.76 70.4141 1722.55 85.7201C1554.56 453.531 1162.17 666.826 763.255 612.948C746.884 610.689 731.089 621.516 728.695 638.332L707.158 769.346C704.228 786.009 716.198 802.126 733.108 804.561C1219.61 872.132 1699.65 611.007 1902.57 161.019C1909.78 145.713 1902.21 126.885 1885.95 120.559L1886.12 120.021L1886.08 120.024Z"
              fill="#EFEBE5"
            />
            <path
              d="M1546.32 217.196L1441.95 137.085C1429.17 127.139 1410.88 128.982 1400.59 140.981C1229.47 339.896 948.74 428.796 681.789 344.077C525.26 294.411 399.767 193.462 317.024 65.5756C308.288 52.2288 290.247 47.6808 275.799 56.0217L161.792 121.464C146.654 130.166 142.159 149.902 151.619 164.652C257.542 331.035 420.336 463.19 622.973 527.494C967.652 636.893 1330.82 520.674 1550.57 261.426C1553.3 258.239 1555.33 254.566 1556.57 250.572C1557.8 246.577 1558.2 242.379 1557.75 238.23C1557.3 234.082 1556.02 230.051 1553.95 226.409C1551.9 222.766 1549.1 219.58 1545.76 217.022L1546.3 217.197L1546.32 217.196Z"
              fill="#EFEBE5"
            />
            <path
              d="M2002.24 55.8093C1888.66 413.736 1618 678.353 1289.6 798.422C1281.98 801.044 1275.7 806.617 1272.2 813.862C1268.67 821.109 1268.19 829.463 1270.86 837.084L1314.12 962.381C1319.67 978.23 1337.4 987.36 1353.45 981.312C1737.46 841.907 2055.17 532.898 2187.89 114.724C2204.99 60.8344 2218.54 7.01359 2228.71 -47.2991C2231.63 -63.9849 2220.22 -79.9289 2203.49 -82.9012L2071.68 -103.589C2055.48 -106.386 2040.05 -94.8451 2036.73 -78.8709C2028.38 -33.9767 2016.99 11.1629 2002.78 55.9617L2002.24 55.7864L2002.24 55.8093Z"
              fill="#EFEBE5"
            />
          </mask>
          <g mask="url(#mask2_400_3504)">
            <g opacity="0.02">
              <path
                d="M1886.08 120.024L1762.42 69.6388C1746.7 63.4653 1729.76 70.4141 1722.55 85.7201C1554.56 453.531 1162.17 666.826 763.255 612.948C746.884 610.689 731.089 621.516 728.695 638.332L707.158 769.346C704.228 786.009 716.198 802.126 733.108 804.561C1219.61 872.132 1699.65 611.007 1902.57 161.019C1909.78 145.713 1902.21 126.885 1885.95 120.559L1886.12 120.021L1886.08 120.024Z"
                fill="#EFEBE5"
              />
              <path
                d="M1546.32 217.196L1441.95 137.085C1429.17 127.139 1410.88 128.982 1400.59 140.981C1229.47 339.896 948.74 428.796 681.789 344.077C525.26 294.411 399.767 193.462 317.024 65.5756C308.288 52.2288 290.247 47.6808 275.799 56.0217L161.792 121.464C146.654 130.166 142.159 149.902 151.619 164.652C257.542 331.035 420.336 463.19 622.973 527.494C967.652 636.893 1330.82 520.674 1550.57 261.426C1553.3 258.239 1555.33 254.566 1556.57 250.572C1557.8 246.577 1558.2 242.379 1557.75 238.23C1557.3 234.082 1556.02 230.051 1553.95 226.409C1551.9 222.766 1549.1 219.58 1545.76 217.022L1546.3 217.197L1546.32 217.196Z"
                fill="#EFEBE5"
              />
              <path
                d="M2002.24 55.8093C1888.66 413.736 1618 678.353 1289.6 798.422C1281.98 801.044 1275.7 806.617 1272.2 813.862C1268.67 821.109 1268.19 829.463 1270.86 837.084L1314.12 962.381C1319.67 978.23 1337.4 987.36 1353.45 981.312C1737.46 841.907 2055.17 532.898 2187.89 114.724C2204.99 60.8344 2218.54 7.01359 2228.71 -47.2991C2231.63 -63.9849 2220.22 -79.9289 2203.49 -82.9012L2071.68 -103.589C2055.48 -106.386 2040.05 -94.8451 2036.73 -78.8709C2028.38 -33.9767 2016.99 11.1629 2002.78 55.9617L2002.24 55.7864L2002.24 55.8093Z"
                fill="#EFEBE5"
              />
            </g>
          </g>
        </g>
        <defs>
          <clipPath id="clip0_400_3504">
            <rect
              width="2667.3"
              height="2695.11"
              fill="white"
              transform="translate(2131.41 -1734.39) rotate(86.6723)"
            />
          </clipPath>
        </defs>
      </svg>
    </div>
  );
};

export default ListPage;
